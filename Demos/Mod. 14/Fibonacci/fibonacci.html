<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="estilo.css">
    <title>Fibonacci - normal</title>
    <script src="jquery-1.5.1.js" type="text/javascript"></script>
</head>

<body>
    <div id="container">
        <h1>Gerando Série Fibonacci</h1>
        <h2>Sem Worker</h2>

        <input type="number" id="seriesLength" value="40">
        <input type="button" id="generateButton" value="Gerar Séries">
        <img src="load.gif" />
        <ol id="log"></ol>
    </div>

    <script>
        var results = [];
        var log;
    $(function () {
        log = $("#log");

        $("#generateButton").click(function () {
            log.html("");
            var seriesLength = parseInt($("#seriesLength").val());
            generateFibonacciSeries(seriesLength);
            $.each(results, function () {
                logMsg(this);
            });
        });
    });


    function calculateNextFibonacciValue(n) {
        var s = 0;
        var returnValue;

        if (n == 0) {
            return (s); 
        }
        if (n == 1) {
            s += 1;
            return (s);
        }
        else {
            return (calculateNextFibonacciValue(n - 1) + calculateNextFibonacciValue(n - 2));
        }
    }

    function generateFibonacciSeries(n) {
        results.length = 0;
        for (var i = 0; i <= n-1; i++) {
            results.push(calculateNextFibonacciValue(i));
        }
    }

    function logMsg(msg) {
        log.append("<li>" + msg + "</li>");
    }
    </script>
</body>
</html>